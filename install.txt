Install Notes (0.02b)

1. Uninstall the zip files to Program Files\monitoring.  Your installation directory should look like the paths below.
C:\Progra~1\monitoring\
C:\Progra~1\monitoring\agent
C:\Progra~1\monitoring\collect
C:\Progra~1\monitoring\event
C:\Progra~1\monitoring\website
C:\Progra~1\monitoring\database

2.  Install Python 3.7.1 for AMD64.  This can be obtained from http://python.org.  When installing, install as all users and include python in the path.
path=C:\Progra~1\Python\;C:\Progra~1\Python\Scripts\;

3.  You need to install two modules (pymysql and pywin32).  Open an administrator cmd prompt and enter:
pip install pymysql
pip install pywin32

4.  You then need to install the python scripts as services.
sc create monitoringagent displayname="Monitoring Agent" binPath="python.exe C:\Progra~1\monitoring\agent\agent_service.py" type=own error=ignore start=auto
sc create monitoringcollect displayname="Monitoring Collect Engine" binPath="python.exe C:\Progra~1\monitoring\collect\collect_service.py" type=own error=ignore start=auto
sc create monitoringevent displayname="Monitoring Event Engine" binPath="python.exe C:\Progra~1\monitoring\event\event_service.py" type=own error=ignore start=auto
sc create monitoringweb displayname="Monitoring Website" binPath="python.exe C:\Progra~1\monitoring\website\web_service.py" type=own error=ignore start=auto

5.  You will need to set IPs for the agent and the collector
For the agent open settings.cfg and change server: to the IP address of the monitoring server.
For the collector open settings.cfg and change mon_server: to the IP of the monitoring server.

6.  You need to install MySQL or MariaDB.  
After one of these is installed you need to create the monitoring database with the included script.
The configs assume a user named test with a password of test.  
You will either have to create a sql user with these credentials or change the config files to account for this.

7.  Start the 4 services from services.msc

8.  To access the website go to http://localhost/ and enter admin and password.  You can change this in the GUI

9.  The application is not set to use SSL by default.  To enable SSL
For the agent open settings.cfg and change secure from 0 to 1.  Restart the agent
For the web server open wserver.py and change the server_port to 443 and set ssl_enabled = True.  You must also have SSL files (localhost.pem and localhost.cer) present in the webserver directory.  
For the collector open settings.cfg and change secure from 0 to 1.  You must also have SSL files (localhost.pem and localhost.cer) present in the collector directory. 
